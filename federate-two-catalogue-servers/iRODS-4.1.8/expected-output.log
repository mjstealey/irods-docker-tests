REMOVE: icat1
  - docker stop icat1 && docker rm -fv icat1
icat1
icat1
REMOVE: icat2
  - docker stop icat2 && docker rm -fv icat2
icat2
icat2
CREATE: icat1 container
7101da21ea1e13286d6dcf1321644270285f1cbd1f15a3021f896fb34a9b8e5c
CREATE: icat2 container
a04724ac7c2d2d11623081e85d401339904be48712ea31e640f262f99d3757eb
INFO: allow icat1 and icat2 to stand up and be configured
20 ...[0K19 ...[0K18 ...[0K17 ...[0K16 ...[0K15 ...[0K14 ...[0K13 ...[0K12 ...[0K11 ...[0K10 ...[0K9 ...[0K8 ...[0K7 ...[0K6 ...[0K5 ...[0K4 ...[0K3 ...[0K2 ...[0K1 ...[0KINFO: update /etc/hosts
[root@zone1]$ echo "'172.17.0.3' icat2" >> /etc/hosts
[root@zone2]$ echo "'172.17.0.2' icat1" >> /etc/hosts
INFO: add rodsuser to each zone
[rods@zone1]$ iadmin mkuser zone1_user rodsuser
[rods@zone1]$ iadmin moduser zone1_user password zone1_pass
[rods@zone2]$ iadmin mkuser zone2_user rodsuser
[rods@zone2]$ iadmin moduser zone2_user password zone1_pass
[rods@zone1]$ iadmin mkzone tempZone2 remote 172.17.0.3:1247
[rods@zone1]$ iadmin mkuser zone2_user#tempZone2 rodsuser
[rods@zone1]$ ichmod -r -M own zone2_user#tempZone2 /tempZone1/home/zone1_user
[rods@zone1]$ ichmod -r -M inherit /tempZone1/home/zone1_user
[rods@zone2]$ iadmin mkzone tempZone1 remote 172.17.0.2:1247
[rods@zone2]$ iadmin mkuser zone1_user#tempZone1 rodsuser
[rods@zone2]$ ichmod -r -M own zone1_user#tempZone1 /tempZone2/home/zone2_user
[rods@zone2]$ ichmod -r -M inherit /tempZone2/home/zone2_user
FEDERATION: settings for icat1
[
  {
    "icat_host": "icat2",
    "zone_name": "tempZone2",
    "zone_key": "zone2_ZONE_KEY",
    "negotiation_key": "zone1_and_zone2__NEGOTIATION_KEY"
  }
]
FEDERATION: settings for icat2
[
  {
    "icat_host": "icat1",
    "zone_name": "tempZone1",
    "zone_key": "zone1_ZONE_KEY",
    "negotiation_key": "zone1_and_zone2__NEGOTIATION_KEY"
  }
]
IPUT: files across zones
[zone1_user]$ iput zone1_user_stickers.jpg /tempZone2/home/zone2_user
[zone2_user]$ iput zone2_user_stickers.jpg /tempZone1/home/zone1_user
ILS: show cross zone objects have been added
[zone1_user]$ ils -A /tempZone2/home/zone2_user
/tempZone2/home/zone2_user:
        ACL - zone2_user#tempZone2:own   zone1_user#tempZone1:own   
        Inheritance - Enabled
  zone1_user_stickers.jpg
        ACL - zone2_user#tempZone2:own   zone1_user#tempZone1:own   
[zone2_user]$ ils -A /tempZone1/home/zone1_user
/tempZone1/home/zone1_user:
        ACL - zone1_user#tempZone1:own   zone2_user#tempZone2:own   
        Inheritance - Enabled
  zone2_user_stickers.jpg
        ACL - zone2_user#tempZone2:own   zone1_user#tempZone1:own   
